# Phase 4 & 5 - Kubernetes and Cloud Deployment Environment Variables
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git (already in .gitignore)

# ============================================================================
# Phase 4 - Local Minikube Deployment
# ============================================================================

# Database Configuration
# Neon PostgreSQL connection string from Phase 3
DATABASE_URL=postgresql+asyncpg://neondb_owner:<password>@<host>/neondb?ssl=require

# Authentication Secret (Better Auth)
# Generate with: openssl rand -base64 32
# CRITICAL: Must be identical in frontend and backend
# Used by both frontend (Better Auth) and backend (JWT validation)
BETTER_AUTH_SECRET=your-32-character-secret-key-here

# Better Auth Base URL
# Required for security and stability
BETTER_AUTH_URL=http://localhost:3000

# OpenAI API Key
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-key-here

# OpenAI ChatKit Domain Key (for hosted ChatKit)
NEXT_PUBLIC_OPENAI_DOMAIN_KEY=your-domain-key-here

# CORS Configuration
# Comma-separated list for Kubernetes ConfigMap
CORS_ORIGINS=http://localhost:3000,http://todo-frontend-service:3000

# Application Environment
ENVIRONMENT=development
DEBUG=true

# Frontend Configuration (for Next.js build)
NEXT_PUBLIC_API_URL=http://localhost:8000
NODE_ENV=production

# ============================================================================
# Phase 5 - Azure AKS Cloud Deployment (STUDENT/HACKATHON BUDGET MODE)
# ============================================================================

# ðŸ’° BUDGET-OPTIMIZED DEFAULTS
# Estimated cost: $20-25/month (or $8-10/month with stop/start)
#
# Azure Configuration
# Resource group for all Azure resources
AZURE_RESOURCE_GROUP=hackathon-todo-rg

# Azure region - BUDGET TIP: Choose wisely!
# - centralindia (best for Asia/Pakistan - fast, moderate cost)
# - southeastasia (good for Asia - fast, moderate cost)
# - eastus (cheapest globally but high latency from Asia ~250ms)
AZURE_LOCATION=centralindia

# AKS cluster name (changed to -dev for student/hackathon)
AKS_CLUSTER_NAME=hackathon-todo-dev

# AKS Tier (Free for dev/test, Standard for production)
AKS_TIER=Free

# VM Size - BUDGET MODE
# Standard_B2s = Burstable, ~$15-20/month (RECOMMENDED for students)
# Standard_D2s_v3 = Production, ~$70/month (too expensive for learning)
AKS_VM_SIZE=Standard_B2s

# Node count (1 for budget, 2+ for production)
AKS_NODE_COUNT=1

# Azure Container Registry name (must be globally unique, alphanumeric only)
ACR_NAME=hackathontodosk2026

# Azure subscription ID (get from: az account show --query id -o tsv)
AZURE_SUBSCRIPTION_ID=your-subscription-id-here

# Service Principal for GitHub Actions (create with: az ad sp create-for-rbac)
# AZURE_CLIENT_ID=your-client-id-here
# AZURE_CLIENT_SECRET=your-client-secret-here
# AZURE_TENANT_ID=your-tenant-id-here

# Redpanda Cloud Configuration
# Bootstrap servers from Redpanda Cloud console (comma-separated)
REDPANDA_BROKERS=seed-123.cloud.redpanda.com:9092

# SASL credentials from Redpanda Cloud console
REDPANDA_SASL_USERNAME=your-redpanda-username
REDPANDA_SASL_PASSWORD=your-redpanda-password

# SASL mechanism (PLAIN, SCRAM-SHA-256, SCRAM-SHA-512)
REDPANDA_SASL_MECHANISM=SCRAM-SHA-256

# Kubernetes Topics
REDPANDA_TASK_EVENTS_TOPIC=task-events
REDPANDA_NOTIFICATIONS_TOPIC=notifications

# Production Frontend URL
# Update after deployment with actual LoadBalancer IP or domain
NEXT_PUBLIC_API_URL=https://your-production-domain.com/api
PRODUCTION_FRONTEND_URL=https://your-production-domain.com

# Monitoring and Alerting
# Slack webhook for deployment notifications (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Email for alerts (optional)
ALERT_EMAIL=ops@yourcompany.com

# Cost Management
# Budget alert thresholds in USD
BUDGET_ALERT_THRESHOLD_1=50
BUDGET_ALERT_THRESHOLD_2=100
BUDGET_ALERT_THRESHOLD_3=200
